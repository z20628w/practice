<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title></title>
</head>

<body>
  测试桌面通知，窗口小化效果更好。
</body>
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function () {
    if (!('Notification' in window)) {
      alert('Sorry bro, your browser is not good enough to display notification');
      return;
    }
    Notification.requestPermission(function (permission) {
      var notification = new Notification("您好，我是前端消息!", { body: '我在这里郑重通知您，你好帅.', icon: 'https://upload-images.jianshu.io/upload_images/5245297-818e624b75271127.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240', dir: 'auto' });
      setTimeout(function () {
        notification.close();//关闭桌面通知
      }, 5000);
      notification.onclick = function () {
        //点击桌面通知，模拟实现把用户小化的窗口大化并刷新
        notification.close();//关闭桌面通知
        var href = window.location.href;//获取当前页面的url
        window.close();//将当前页面关闭
        window.open('https://www.baidu.com');//新开一个页面，url为当前页面
      }
      navigator.onerror = function () {
        //当有错误发生时会onerror函数会被调用
        console.log('桌面通知发生了错误');
      }
      navigator.onshow = function () {
        //消息框显示时会被调用
        console.log('桌面通知显示ing');
      }
    });
  });
</script>

</html>
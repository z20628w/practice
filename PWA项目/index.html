<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PWA</title>
  <link rel="manifest" href="manifest.json" />
</head>

<body>

</body>
<script>
  if ("serviceWorker" in navigator) {
    // 浏览器支持 Service Worker
    navigator.serviceWorker
      .register("./sw.js") // 这里可以接受第二个参数，用于设置 scope 范围
      .then(function (registration) {
        // 如果存放在网站根路径下，将会收到该网站的所有 fetch 事件
        console.log("ServiceWorker注册成功: ", registration.scope);
      })
      .catch(function (err) {
        console.log("ServiceWorker注册失败: ", err);
      });
  }
</script>

</html>
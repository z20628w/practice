<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // Map
        // ES6 提供了新的数据结构 Set。它类似于"数组"，但是成员的值都是唯一的，没有重复的值。

        // ES6 提供了新的数据结构 Map。它类似于"对象"，也是键值对的集合。区别在于：

        // 对象的属性名（键名）只能是字符串。但map的键范围不限于字符串，各种类型的值（包括对象）都可以当作键。也就是说，Object 结构提供了“字符串—值”的对应，Map结构提供了“值—值”的对应，是一种更完善的 Hash 哈希结构实现。

        // 键可以是任意类型的；

        // 创建一个空的Map
        let map1 = new Map();
        console.log( map1 );
        console.log( map1.size );

        // 创建包括数据的Map
        let map2 = new Map( [
            ["username","zhangsan"],
            [ 123 , 123456 ],
            [ true , "真" ],
            [ null , "我是空型" ],
            [ [10,20,30] , "我数组"]
        ] );
        console.log( map2 );
        console.log("");
        console.log("");
        console.log("");

        let map3 = new Map();
        console.log( map3 );
        // 添加  Map对象.set(键名,键值)  
        map3.set(123,123456);
        map3.set("123",456789456);

        map3.set("abc","abcabc");
        // 重复的键会覆盖
        map3.set("abc","abc123");
        map3.set("abc","abc456");


        map3.set(null,"空型222");
        map3.set(undefined,"未定义型111");

        let a = [10,20,30];
        map3.set( a ,"数组222");

        let bb = {username:"张三"};
        map3.set(bb,"自定义对象");
        console.log( map3 );
        console.log("");

        // 获取  Map对象.get(键名) 
        console.log( map3.get(123) );
        console.log( map3.get("123") );

        // 以上  m3.get([10,20,30])获取不到值的。
        // 原因是：get()时要比较栈区中的"地址"，而不是堆区中的数据。
        // 解决方法:  使用变量保存[10,20,30]
        console.log( map3.get( [10,20,30] ) );
        console.log( map3.get( a ) );
        console.log("");

        console.log( map3.get( {username:"张三"} ) );
        console.log( map3.get( bb ) );
        console.log("");
        console.log("");
        console.log("");

        // Map结构也是可以使用for...of遍历的
        console.log(map3);
        console.log("");
        for( val2 of map3 ){
            // console.log( val2 );
            let [index,item] = val2;
            console.log( index ,item );
        }
    </script>
</body>
</html>